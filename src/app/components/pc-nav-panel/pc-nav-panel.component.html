<div class="main-block">
  <div class="layer">
    <div class="nav_box">
      <div routerLink="/home/playlists">
        <img
          [style.display]="routePath === 'home' ? 'none' : 'unset'"
          height="24"
          width="24"
          ngSrc="assets/images/icons/home-filled.svg" alt="search">
        <img
          [style.display]="routePath !== 'home' ? 'none' : 'unset'"
          height="24"
          width="24"
          ngSrc="assets/images/icons/home-white.svg" alt="search">
        <span>Home</span>
      </div>
      <div routerLink="/home/search">
        <img
          style="margin: 0 12px"
          [style.display]="routePath === 'search' ? 'none' : 'unset'"
          height="24"
          width="24"
          ngSrc="assets/images/icons/search.svg" alt="search">
        <img
          style="margin: 0 12px"
          [style.display]="routePath !== 'search' ? 'none' : 'unset'"
          height="24"
          width="24"
          ngSrc="assets/images/icons/search-filled.svg" alt="search">
        <span style="margin-top: 2px">Search</span>
      </div>
      <div routerLink="/home/library">
        <svg
          [style.display]="routePath === 'library' ? 'none' : 'unset'"
          style="outline: none;"
          data-encore-id="icon"
          role="img"
          fill="white"
          aria-hidden="true"
          viewBox="0 0 24 24">
          <path d="M14.5 2.134a1 1 0 0 1 1 0l6 3.464a1 1 0 0 1 .5.866V21a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1V3a1 1 0 0 1 .5-.866zM16 4.732V20h4V7.041l-4-2.309zM3 22a1 1 0 0 1-1-1V3a1 1 0 0 1 2 0v18a1 1 0 0 1-1 1zm6 0a1 1 0 0 1-1-1V3a1 1 0 0 1 2 0v18a1 1 0 0 1-1 1z"></path></svg>
        <img
          [style.display]="routePath !== 'library' ? 'none' : 'unset'"
          style="width: 30px; height: 30px;" src="assets/images/icons/libary-filled.svg" alt="library">
        <span>Library</span>
      </div>
    </div>
    <div appResizeHeight [size]="284" class="favorites_block">
      <div style="display: flex; align-items: center; margin-bottom: 13px">
        <mat-icon style="color: #007CE9">favorite</mat-icon>
        <h4 style="margin-left: 7px">Favorite tracks</h4>
      </div>
      @if (!trackList) {
        @for (num of loadArray; track $index) {
          <div class="track_block">
            <div class="track_box">
              <div style="display: flex; align-items: center">
                <div class="track_image">
                  <div style="width: 50px; height: 50px; background-color: #2a2a2a; border-radius: 8px"></div>
                </div>
                <div class="track_info_box">
                  <div style="width: 100px; height: 14px; background-color: #2a2a2a; border-radius: 5px"></div>
                  <div style="width: 70px; height: 14px; background-color: #2a2a2a; border-radius: 5px; margin-top: 7px"></div>
                </div>
              </div>
            </div>
          </div>
        }
      }
      @for (track of trackList; track $index) {
        <div class="track_block">
          <div
            [style.background-color]="track.videoId === trackPlayId ? '#1a1a1a' : 'unset'"
            class="track_box">
            <div (click)="setTrack(track.videoId, $index)" style="display: flex; align-items: center; width: 100%">
              <div class="track_image">
                <img class="image" [src]="track.image" alt="track image">
              </div>
              <div class="track_info_box">
                <h4>{{ track.title }}</h4>
                <span>{{ track.author.name.length > 20 ? track.author.name.slice(0, 20) + '...' : track.author.name }}</span>
              </div>
            </div>
          </div>
        </div>
      }
      @if (trackList) {
        @if (trackList.length === 0) {
          <h3 style="color: white; text-align: center;">Favorites not added</h3>
          <div style="text-align: center">
            <button
              routerLink="/home/"
              style="
              background-color: transparent;
              border: 1px solid rgba(255,255,255,0.47);
              padding: 10px 20px;
              color: white;
              margin-top: 10px;
              border-radius: 10px;
              outline: none;
            ">Home</button>
          </div>
        }
      }
    </div>
  </div>
</div>
