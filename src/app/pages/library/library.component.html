<div class="main_block">
  <div class="account_block">
    <div>
      <button mat-icon-button style="margin-top: env(safe-area-inset-top);">
        <mat-icon style="color: white" routerLink="/home">arrow_back_ios</mat-icon>
      </button>
      <h2 #titleElement>Your Library</h2>
    </div>
    @if (avatar) {
      <div (click)="toggleAccountInfoBlock()" class="account">
        <img [src]="avatar">
      </div>
    }
  </div>
  <div #scrollContainer (scroll)="onScroll()" class="scroll_box">
    <div class="list_block">
      <div routerLink="/home/folder/track-favorites" class="favorites">
        <img src="assets/images/favorites.png">
        <div style="margin-left: 15px">
          <h3>Favorites</h3>
          <p>{{ favoritePlayListLength != 0 ? favoritePlayListLength : '' }} {{ favoritePlayListLength > 0 ? 'songs' : 'song' }}</p>
        </div>
      </div>
    </div>
    <span style="margin-top: 20px; font-size: 15px; color: #9c9c9c; font-weight: normal; display: block">Playlists</span>
    @if (playlists) {
      @for (playlist of playlists; track $index) {
        <div [routerLink]="'/home/folder/' + playlist._id" class="playlist">
          <div class="images_row">
            <div>
              <img
                [style.height]="playlist.tracks.length < 2 ? '70px' : '35px'"
                [src]="playlist.tracks[0].image">
              @if (playlist.tracks.length >= 1) {
                <img
                  [style.height]="playlist.tracks.length < 2 ? '70px' : '35px'"
                  [src]="playlist.tracks[1].image">
              }
            </div>
            @if (playlist.tracks.length > 2) {
              <div>
                <img [src]="playlist.tracks[2].image">
                <img [src]="playlist.tracks[3].image">
              </div>
            }
          </div>
          <div style="margin-left: 15px;">
            <h3>{{ playlist.playlistName }}</h3>
            <span>Playlist - {{ playlist.tracks.length }} {{ playlist.tracks.length > 0 ? 'songs' : 'song' }}</span>
          </div>
        </div>
      }
    }
    <div (click)="openBottomSheet()" style="width: 100%; display: flex; align-items: center; margin-top: 15px;">
      <button mat-button class="add_playlist_block"></button>
      <p style="color: white; margin-left: 15px">Create New Playlist</p>
    </div>
  </div>
</div>
